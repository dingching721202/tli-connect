# TLI Connect ç³»çµ±åŠŸèƒ½è³‡æ–™çµæ§‹èˆ‡æµç¨‹è¦åŠƒæ–‡ä»¶

## ğŸ“‹ ç›®éŒ„
- [ä¸€ã€åŠŸèƒ½æ¨¡çµ„ç¸½è¦½](#ä¸€åŠŸèƒ½æ¨¡çµ„ç¸½è¦½ä¾-app-å€åˆ†)
- [äºŒã€å„åŠŸèƒ½æ¨¡çµ„ç´°ç¯€](#äºŒå„åŠŸèƒ½æ¨¡çµ„ç´°ç¯€)
- [ä¸‰ã€è³‡æ–™æµè¨­è¨ˆ](#ä¸‰è³‡æ–™æµè¨­è¨ˆmece-åŸå‰‡)
- [å››ã€API è¨­è¨ˆæ¨™æº–](#å››api-è¨­è¨ˆæ¨™æº–)
- [äº”ã€éŒ¯èª¤ç¢¼èˆ‡ä¾‹å¤–è™•ç†æ¨™æº–](#äº”éŒ¯èª¤ç¢¼èˆ‡ä¾‹å¤–è™•ç†æ¨™æº–)

---

## ä¸€ã€åŠŸèƒ½æ¨¡çµ„ç¸½è¦½ï¼ˆä¾ APP å€åˆ†ï¼‰

### ğŸ“± APP åç¨±ï¼šStudent Portal
- ç”¨æˆ¶è¨»å†Šèˆ‡ç™»å…¥
- æœƒå“¡æ–¹æ¡ˆç®¡ç†
- èª²ç¨‹ç€è¦½èˆ‡é ç´„
- æˆ‘çš„å­¸ç¿’è¨˜éŒ„
- å€‹äººè³‡æ–™ç®¡ç†
- æ¨è–¦ç³»çµ±
- è¯ç¹«æˆ‘å€‘è¡¨å–®

### ğŸ‘¨â€ğŸ« APP åç¨±ï¼šTeacher Dashboard
- æ•™å­¸æ’ç¨‹ç®¡ç†
- å­¸ç”Ÿåå–®ç®¡ç†
- è«‹å‡ç”³è«‹ç³»çµ±
- èª²ç¨‹æº–å‚™å·¥å…·
- å­¸ç”Ÿäº’å‹•è¨˜éŒ„

### ğŸ”§ APP åç¨±ï¼šAdmin Console
- ç”¨æˆ¶ç®¡ç†ç³»çµ±
- èª²ç¨‹å…§å®¹ç®¡ç†
- æ•™å¸«è³‡æºç®¡ç†
- è¨‚å–®èˆ‡ä»˜æ¬¾ç®¡ç†
- ç³»çµ±è¨­å®šç®¡ç†
- æ•¸æ“šåˆ†æå ±è¡¨
- æ¡ˆä»¶ç®¡ç†ç³»çµ±

### ğŸ¢ APP åç¨±ï¼šCorporate Portal
- ä¼æ¥­å®¢æˆ¶ç®¡ç†
- æ‰¹é‡è³¼è²·æ–¹æ¡ˆ
- å“¡å·¥å­¸ç¿’è¿½è¹¤
- ä¼æ¥­å°ˆæ¡ˆç®¡ç†

---

## äºŒã€å„åŠŸèƒ½æ¨¡çµ„ç´°ç¯€

### ğŸ“Œ åŠŸèƒ½åç¨±ï¼šç”¨æˆ¶è¨»å†Šèˆ‡ç™»å…¥
**æ‰€å±¬ APP**ï¼šStudent Portal  
**åŠŸèƒ½æè¿°**ï¼šæä¾›ç”¨æˆ¶è¨»å†Šã€ç™»å…¥ã€é©—è­‰ç­‰åŸºç¤èªè­‰åŠŸèƒ½

#### User Story
| id | æ¨™é¡Œ | å…§å®¹ | Acceptance Criteria |
|---|---|---|---|
| US-AUTH-001 | ç”¨æˆ¶è¨»å†Š | ä½œç‚ºæ–°ç”¨æˆ¶ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ è¨»å†Šå¸³è™Ÿï¼Œä»¥ä¾¿ä½¿ç”¨å­¸ç¿’å¹³å° | ç³»çµ±å¯æ¥å—emailã€å§“åã€é›»è©±ã€å¯†ç¢¼ï¼›è¨»å†ŠæˆåŠŸå¾Œè‡ªå‹•ç™»å…¥ï¼›ç™¼é€æ­¡è¿ä¿¡ä»¶ |
| US-AUTH-002 | ç”¨æˆ¶ç™»å…¥ | ä½œç‚ºè¨»å†Šç”¨æˆ¶ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ å®‰å…¨ç™»å…¥ç³»çµ±ï¼Œä»¥ä¾¿å­˜å–å€‹äººåŠŸèƒ½ | ç³»çµ±é©—è­‰emailå’Œå¯†ç¢¼ï¼›ç™»å…¥æˆåŠŸå¾Œå°å‘dashboardï¼›éŒ¯èª¤æ™‚é¡¯ç¤ºé©ç•¶æç¤º |
| US-AUTH-003 | å¿˜è¨˜å¯†ç¢¼ | ä½œç‚ºç”¨æˆ¶ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ é‡è¨­å¯†ç¢¼ï¼Œä»¥ä¾¿åœ¨å¿˜è¨˜å¯†ç¢¼æ™‚é‡æ–°ç™»å…¥ | ç³»çµ±ç™¼é€é‡è¨­é€£çµè‡³ç”¨æˆ¶emailï¼›é€£çµæœ‰æ•ˆæœŸ24å°æ™‚ï¼›é‡è¨­æˆåŠŸå¾Œå¯æ­£å¸¸ç™»å…¥ |

#### è³‡æ–™ Schema (TypeScript Interface)
```typescript
interface User {
  id: string;                    // UUID
  email: string;                 // é›»å­éƒµä»¶ (å”¯ä¸€)
  name: string;                  // ç”¨æˆ¶å§“å
  phone: string;                 // é›»è©±è™Ÿç¢¼
  password_hash: string;         // åŠ å¯†å¯†ç¢¼
  role: 'STUDENT' | 'TEACHER' | 'ADMIN' | 'CORPORATE'; // ç”¨æˆ¶è§’è‰²
  status: 'ACTIVE' | 'INACTIVE' | 'SUSPENDED';         // å¸³è™Ÿç‹€æ…‹
  email_verified: boolean;       // Emailé©—è­‰ç‹€æ…‹
  created_at: string;           // ISO 8601 æ ¼å¼
  updated_at: string;           // ISO 8601 æ ¼å¼
  last_login_at?: string;       // ISO 8601 æ ¼å¼
}

interface UserSession {
  id: string;                   // Session ID
  user_id: string;             // ç”¨æˆ¶ID
  jwt_token: string;           // JWT Token
  device_info?: string;        // è¨­å‚™è³‡è¨Š
  ip_address: string;          // IPä½å€
  expires_at: string;          // ISO 8601 æ ¼å¼
  created_at: string;          // ISO 8601 æ ¼å¼
}
```

#### API è¨­è¨ˆ
- `POST /api/v1/auth/register`ï¼šç”¨æˆ¶è¨»å†Š
- `POST /api/v1/auth/login`ï¼šç”¨æˆ¶ç™»å…¥
- `POST /api/v1/auth/logout`ï¼šç”¨æˆ¶ç™»å‡º
- `POST /api/v1/auth/refresh`ï¼šåˆ·æ–°Token
- `POST /api/v1/auth/forgot-password`ï¼šå¿˜è¨˜å¯†ç¢¼
- `POST /api/v1/auth/reset-password`ï¼šé‡è¨­å¯†ç¢¼

---

### ğŸ“Œ åŠŸèƒ½åç¨±ï¼šæœƒå“¡æ–¹æ¡ˆç®¡ç†
**æ‰€å±¬ APP**ï¼šStudent Portal  
**åŠŸèƒ½æè¿°**ï¼šæä¾›æœƒå“¡æ–¹æ¡ˆç€è¦½ã€è³¼è²·ã€å•Ÿç”¨ç­‰å®Œæ•´æœƒå“¡åˆ¶åº¦åŠŸèƒ½

#### User Story
| id | æ¨™é¡Œ | å…§å®¹ | Acceptance Criteria |
|---|---|---|---|
| US-MEMBER-001 | ç€è¦½æœƒå“¡æ–¹æ¡ˆ | ä½œç‚ºæ½›åœ¨å®¢æˆ¶ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ ç€è¦½æ‰€æœ‰å¯ç”¨çš„æœƒå“¡æ–¹æ¡ˆï¼Œä»¥ä¾¿é¸æ“‡é©åˆçš„æ–¹æ¡ˆ | ç³»çµ±é¡¯ç¤ºæ‰€æœ‰å·²ç™¼å¸ƒæ–¹æ¡ˆï¼›åŒ…å«åƒ¹æ ¼ã€ç‰¹è‰²ã€æœŸé™ï¼›æ”¯æ´å€‹äºº/ä¼æ¥­ç¯©é¸ |
| US-MEMBER-002 | è³¼è²·æœƒå“¡æ–¹æ¡ˆ | ä½œç‚ºç”¨æˆ¶ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ è³¼è²·æœƒå“¡æ–¹æ¡ˆï¼Œä»¥ä¾¿ç²å¾—å­¸ç¿’æ¬Šç›Š | ç³»çµ±å»ºç«‹è¨‚å–®ï¼›æ•´åˆä»˜æ¬¾æµç¨‹ï¼›ä»˜æ¬¾æˆåŠŸå¾Œç”Ÿæˆæœƒå“¡è³‡æ ¼ |
| US-MEMBER-003 | å•Ÿç”¨æœƒå“¡å¡ | ä½œç‚ºå·²è³¼è²·çš„ç”¨æˆ¶ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ å•Ÿç”¨æœƒå“¡å¡ï¼Œä»¥ä¾¿é–‹å§‹ä½¿ç”¨æ¬Šç›Š | ç³»çµ±æª¢æŸ¥è³¼è²·ç‹€æ…‹ï¼›å•Ÿç”¨å¾Œè¨­å®šæœ‰æ•ˆæœŸï¼›æ›´æ–°æœƒå“¡ç‹€æ…‹ç‚ºACTIVE |

#### è³‡æ–™ Schema (TypeScript Interface)
```typescript
interface MembershipPlan {
  id: string;                   // UUID
  title: string;                // æ–¹æ¡ˆåç¨±
  description: string;          // æ–¹æ¡ˆæè¿°
  user_type: 'INDIVIDUAL' | 'CORPORATE';           // ç”¨æˆ¶é¡å‹
  duration_type: 'SEASON' | 'ANNUAL';              // æœŸé–“é¡å‹
  duration_days: number;        // æœ‰æ•ˆå¤©æ•¸
  original_price: number;       // åŸåƒ¹ (TWD)
  sale_price: number;          // å”®åƒ¹ (TWD)
  features: string[];          // åŠŸèƒ½ç‰¹è‰²åˆ—è¡¨
  course_access: string[];     // å¯å­˜å–èª²ç¨‹IDåˆ—è¡¨
  is_popular: boolean;         // æ˜¯å¦ç†±é–€æ–¹æ¡ˆ
  is_published: boolean;       // æ˜¯å¦å·²ç™¼å¸ƒ
  created_at: string;          // ISO 8601 æ ¼å¼
  updated_at: string;          // ISO 8601 æ ¼å¼
}

interface UserMembership {
  id: string;                  // UUID
  user_id: string;            // ç”¨æˆ¶ID
  plan_id: string;            // æ–¹æ¡ˆID
  order_id: string;           // è¨‚å–®ID
  status: 'PURCHASED' | 'ACTIVE' | 'EXPIRED' | 'SUSPENDED'; // æœƒå“¡ç‹€æ…‹
  start_date?: string;        // é–‹å§‹æ—¥æœŸ ISO 8601
  end_date?: string;          // çµæŸæ—¥æœŸ ISO 8601
  activate_deadline: string;   // å•Ÿç”¨æˆªæ­¢æ—¥ ISO 8601
  auto_renew: boolean;        // æ˜¯å¦è‡ªå‹•çºŒç´„
  created_at: string;         // ISO 8601 æ ¼å¼
  updated_at: string;         // ISO 8601 æ ¼å¼
}
```

#### API è¨­è¨ˆ
- `GET /api/v1/membership-plans`ï¼šå–å¾—æ‰€æœ‰å·²ç™¼å¸ƒæ–¹æ¡ˆ
- `GET /api/v1/membership-plans/:id`ï¼šå–å¾—ç‰¹å®šæ–¹æ¡ˆè©³æƒ…
- `GET /api/v1/memberships/my`ï¼šå–å¾—æˆ‘çš„æœƒå“¡è³‡æ ¼
- `POST /api/v1/memberships/:id/activate`ï¼šå•Ÿç”¨æœƒå“¡å¡
- `PUT /api/v1/memberships/:id/auto-renew`ï¼šè¨­å®šè‡ªå‹•çºŒç´„

---

### ğŸ“Œ åŠŸèƒ½åç¨±ï¼šèª²ç¨‹ç€è¦½èˆ‡é ç´„
**æ‰€å±¬ APP**ï¼šStudent Portal  
**åŠŸèƒ½æè¿°**ï¼šæä¾›èª²ç¨‹ç€è¦½ã€æ™‚æ®µæŸ¥è©¢ã€é ç´„ç®¡ç†ç­‰å­¸ç¿’ç›¸é—œåŠŸèƒ½

#### User Story
| id | æ¨™é¡Œ | å…§å®¹ | Acceptance Criteria |
|---|---|---|---|
| US-COURSE-001 | ç€è¦½èª²ç¨‹åˆ—è¡¨ | ä½œç‚ºå­¸ç”Ÿï¼Œæˆ‘å¸Œæœ›èƒ½å¤ ç€è¦½æ‰€æœ‰å¯ç”¨èª²ç¨‹ï¼Œä»¥ä¾¿é¸æ“‡æ„Ÿèˆˆè¶£çš„å…§å®¹ | ç³»çµ±é¡¯ç¤ºå·²ç™¼å¸ƒèª²ç¨‹ï¼›æ”¯æ´èªè¨€ã€é›£åº¦ã€åˆ†é¡ç¯©é¸ï¼›é¡¯ç¤ºæ•™å¸«è³‡è¨Šå’Œè©•åˆ† |
| US-COURSE-002 | æŸ¥çœ‹èª²ç¨‹è©³æƒ… | ä½œç‚ºå­¸ç”Ÿï¼Œæˆ‘å¸Œæœ›èƒ½å¤ æŸ¥çœ‹èª²ç¨‹è©³ç´°è³‡è¨Šï¼Œä»¥ä¾¿äº†è§£å­¸ç¿’å…§å®¹ | ç³»çµ±é¡¯ç¤ºèª²ç¨‹æè¿°ã€å¤§ç¶±ã€æ•™æã€æ™‚ç¨‹ï¼›åŒ…å«æ•™å¸«ä»‹ç´¹å’Œå­¸ç”Ÿè©•åƒ¹ |
| US-COURSE-003 | é ç´„èª²ç¨‹æ™‚æ®µ | ä½œç‚ºæœƒå“¡ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ é ç´„èª²ç¨‹æ™‚æ®µï¼Œä»¥ä¾¿å®‰æ’å­¸ç¿’æ™‚é–“ | ç³»çµ±æª¢æŸ¥æœƒå“¡æ¬Šé™ï¼›é¡¯ç¤ºå¯é ç´„æ™‚æ®µï¼›é ç´„æˆåŠŸå¾Œç™¼é€ç¢ºèªé€šçŸ¥ |
| US-COURSE-004 | æ‰¹é‡é ç´„èª²ç¨‹ | ä½œç‚ºæœƒå“¡ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ ä¸€æ¬¡é ç´„å¤šå€‹æ™‚æ®µï¼Œä»¥ä¾¿æé«˜é ç´„æ•ˆç‡ | ç³»çµ±æ”¯æ´å¤šé¸æ™‚æ®µï¼›æª¢æŸ¥æ™‚é–“è¡çªï¼›æ‰¹é‡è™•ç†é ç´„çµæœ |

#### è³‡æ–™ Schema (TypeScript Interface)
```typescript
interface Course {
  id: string;                   // UUID
  title: string;                // èª²ç¨‹æ¨™é¡Œ
  description: string;          // èª²ç¨‹æè¿°
  teacher_id: string;          // æ•™å¸«ID
  language: 'ENGLISH' | 'CHINESE' | 'JAPANESE';    // æ•™å­¸èªè¨€
  level: 'BEGINNER' | 'INTERMEDIATE' | 'ADVANCED'; // é›£åº¦ç­‰ç´š
  categories: string[];         // åˆ†é¡æ¨™ç±¤
  max_students: number;        // æœ€å¤§å­¸ç”Ÿæ•¸
  session_duration: number;    // æ¯å ‚èª²æ™‚é•·(åˆ†é˜)
  total_sessions: number;      // ç¸½å ‚æ•¸
  price: number;              // èª²ç¨‹åƒ¹æ ¼ (TWD)
  materials: string[];        // æ‰€éœ€æ•™æ
  prerequisites: string;      // å…ˆä¿®è¦æ±‚
  cover_image_url: string;    // å°é¢åœ–ç‰‡URL
  rating: number;             // èª²ç¨‹è©•åˆ† (0-5)
  review_count: number;       // è©•åƒ¹æ•¸é‡
  is_published: boolean;      // æ˜¯å¦å·²ç™¼å¸ƒ
  created_at: string;         // ISO 8601 æ ¼å¼
  updated_at: string;         // ISO 8601 æ ¼å¼
}

interface CourseSession {
  id: string;                 // UUID
  course_id: string;         // èª²ç¨‹ID
  session_number: number;    // ç¬¬å¹¾å ‚èª²
  title: string;             // èª²å ‚æ¨™é¡Œ
  date: string;              // ä¸Šèª²æ—¥æœŸ YYYY-MM-DD
  start_time: string;        // é–‹å§‹æ™‚é–“ HH:mm
  end_time: string;          // çµæŸæ™‚é–“ HH:mm
  location: string;          // ä¸Šèª²åœ°é»
  capacity: number;          // å®¹é‡
  enrolled_count: number;    // å·²å ±åäººæ•¸
  waitlist_count: number;    // å€™è£œäººæ•¸
  status: 'AVAILABLE' | 'FULL' | 'CANCELLED' | 'COMPLETED'; // æ™‚æ®µç‹€æ…‹
  booking_deadline: string;  // é ç´„æˆªæ­¢æ™‚é–“ ISO 8601
  created_at: string;        // ISO 8601 æ ¼å¼
  updated_at: string;        // ISO 8601 æ ¼å¼
}

interface Booking {
  id: string;                // UUID
  user_id: string;          // ç”¨æˆ¶ID
  session_id: string;       // èª²ç¨‹æ™‚æ®µID
  membership_id: string;    // æœƒå“¡è³‡æ ¼ID
  status: 'CONFIRMED' | 'CANCELLED' | 'COMPLETED' | 'NO_SHOW'; // é ç´„ç‹€æ…‹
  booking_source: 'WEB' | 'MOBILE' | 'ADMIN';     // é ç´„ä¾†æº
  cancellation_reason?: string;  // å–æ¶ˆåŸå› 
  created_at: string;       // ISO 8601 æ ¼å¼
  updated_at: string;       // ISO 8601 æ ¼å¼
  cancelled_at?: string;    // å–æ¶ˆæ™‚é–“ ISO 8601
}
```

#### API è¨­è¨ˆ
- `GET /api/v1/courses`ï¼šå–å¾—èª²ç¨‹åˆ—è¡¨ï¼ˆæ”¯æ´ç¯©é¸ï¼‰
- `GET /api/v1/courses/:id`ï¼šå–å¾—èª²ç¨‹è©³æƒ…
- `GET /api/v1/courses/:id/sessions`ï¼šå–å¾—èª²ç¨‹å¯é ç´„æ™‚æ®µ
- `POST /api/v1/bookings`ï¼šé ç´„èª²ç¨‹æ™‚æ®µ
- `POST /api/v1/bookings/batch`ï¼šæ‰¹é‡é ç´„
- `GET /api/v1/bookings/my`ï¼šå–å¾—æˆ‘çš„é ç´„è¨˜éŒ„
- `DELETE /api/v1/bookings/:id`ï¼šå–æ¶ˆé ç´„

---

### ğŸ“Œ åŠŸèƒ½åç¨±ï¼šè¯ç¹«æˆ‘å€‘è¡¨å–®
**æ‰€å±¬ APP**ï¼šStudent Portal  
**åŠŸèƒ½æè¿°**ï¼šæä¾›è¨ªå®¢åŠç”¨æˆ¶å¾é¦–é è¯ç¹«æˆ‘å€‘æŒ‰éˆ•å¡«å¯«è¡¨å–®ï¼Œæäº¤è«®è©¢æˆ–æœå‹™éœ€æ±‚

#### User Story
| id | æ¨™é¡Œ | å…§å®¹ | Acceptance Criteria |
|---|---|---|---|
| US-CONTACT-001 | æäº¤è¯ç¹«è¡¨å–® | ä½œç‚ºç¶²ç«™è¨ªå®¢ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ é€éè¯ç¹«è¡¨å–®æäº¤è«®è©¢ï¼Œä»¥ä¾¿ç²å¾—ç›¸é—œæœå‹™è³‡è¨Š | ç³»çµ±æä¾›å®Œæ•´è¯ç¹«è¡¨å–®ï¼›åŒ…å«å¿…å¡«æ¬„ä½é©—è­‰ï¼›æäº¤æˆåŠŸå¾Œé¡¯ç¤ºç¢ºèªè¨Šæ¯ |
| US-CONTACT-002 | é¸æ“‡è«®è©¢é¡å‹ | ä½œç‚ºè¨ªå®¢ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ é¸æ“‡ä¸åŒçš„è«®è©¢é¡å‹ï¼Œä»¥ä¾¿ç³»çµ±åˆ†é…çµ¦å°æ‡‰çš„å°ˆå“¡è™•ç† | ç³»çµ±æä¾›è«®è©¢é¡å‹é¸é …ï¼›ä¸åŒé¡å‹æœ‰å°æ‡‰çš„è™•ç†æµç¨‹ï¼›è‡ªå‹•åˆ†é…è™•ç†äººå“¡ |
| US-CONTACT-003 | é ç´„å›è¦†æ™‚é–“ | ä½œç‚ºè¨ªå®¢ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ é¸æ“‡åå¥½çš„è¯ç¹«æ™‚é–“ï¼Œä»¥ä¾¿åœ¨æ–¹ä¾¿çš„æ™‚å€™æ¥è½é›»è©± | ç³»çµ±æä¾›æ™‚é–“åå¥½é¸é …ï¼›è¨˜éŒ„è¯ç¹«æ™‚é–“éœ€æ±‚ï¼›è™•ç†äººå“¡å¯æŸ¥çœ‹æ™‚é–“åå¥½ |

#### è³‡æ–™ Schema (TypeScript Interface)
```typescript
interface ContactInquiry {
  id: string;                    // UUID
  inquiry_type: 'COURSE_INFO' | 'MEMBERSHIP' | 'CORPORATE' | 'TECHNICAL' | 'OTHER'; // è«®è©¢é¡å‹
  contact_person: string;        // è¯ç¹«äººå§“å
  email: string;                 // è¯ç¹«ä¿¡ç®±
  phone: string;                 // è¯ç¹«é›»è©±
  company_name?: string;         // å…¬å¸åç¨± (ä¼æ¥­è«®è©¢)
  subject: string;               // è«®è©¢ä¸»é¡Œ
  message: string;               // è©³ç´°è¨Šæ¯
  preferred_contact_method: 'EMAIL' | 'PHONE' | 'BOTH'; // åå¥½è¯ç¹«æ–¹å¼
  preferred_contact_time?: string; // åå¥½è¯ç¹«æ™‚é–“
  source: 'WEBSITE' | 'MOBILE_APP' | 'REFERRAL' | 'ADVERTISEMENT'; // ä¾†æº
  user_id?: string;              // é—œè¯ç”¨æˆ¶ID (å¦‚æœæ˜¯ç™»å…¥ç”¨æˆ¶)
  ip_address: string;            // æäº¤è€…IPä½å€
  user_agent: string;            // ç€è¦½å™¨è³‡è¨Š
  utm_source?: string;           // UTMä¾†æºè¿½è¸ª
  utm_medium?: string;           // UTMåª’ä»‹è¿½è¸ª
  utm_campaign?: string;         // UTMæ´»å‹•è¿½è¸ª
  status: 'NEW' | 'ASSIGNED' | 'IN_PROGRESS' | 'REPLIED' | 'CLOSED'; // è™•ç†ç‹€æ…‹
  priority: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT'; // å„ªå…ˆç´š
  assigned_to?: string;          // æŒ‡æ´¾è™•ç†äººå“¡ID
  assigned_at?: string;          // æŒ‡æ´¾æ™‚é–“ ISO 8601
  first_response_at?: string;    // é¦–æ¬¡å›æ‡‰æ™‚é–“ ISO 8601
  resolved_at?: string;          // è§£æ±ºæ™‚é–“ ISO 8601
  created_at: string;            // ISO 8601 æ ¼å¼
  updated_at: string;            // ISO 8601 æ ¼å¼
}

interface ContactResponse {
  id: string;                    // UUID
  inquiry_id: string;            // è¯ç¹«æ¡ˆä»¶ID
  responder_id: string;          // å›æ‡‰è€…ID
  responder_name: string;        // å›æ‡‰è€…å§“å
  response_type: 'EMAIL' | 'PHONE' | 'INTERNAL_NOTE'; // å›æ‡‰é¡å‹
  content: string;               // å›æ‡‰å…§å®¹
  is_internal: boolean;          // æ˜¯å¦ç‚ºå…§éƒ¨å‚™è¨»
  attachments?: string[];        // é™„ä»¶URLåˆ—è¡¨
  created_at: string;            // ISO 8601 æ ¼å¼
}
```

#### API è¨­è¨ˆ
- `POST /api/v1/contact-inquiries`ï¼šæäº¤è¯ç¹«è¡¨å–®
- `GET /api/v1/contact-inquiries/:id`ï¼šå–å¾—ç‰¹å®šè«®è©¢æ¡ˆä»¶è©³æƒ…
- `PUT /api/v1/contact-inquiries/:id/status`ï¼šæ›´æ–°æ¡ˆä»¶ç‹€æ…‹
- `POST /api/v1/contact-inquiries/:id/responses`ï¼šæ–°å¢å›æ‡‰è¨˜éŒ„

---

### ğŸ“Œ åŠŸèƒ½åç¨±ï¼šæ¡ˆä»¶ç®¡ç†ç³»çµ±
**æ‰€å±¬ APP**ï¼šAdmin Console  
**åŠŸèƒ½æè¿°**ï¼šæä¾›ç®¡ç†å“¡ç®¡ç†æ‰€æœ‰è¯ç¹«è«®è©¢æ¡ˆä»¶ï¼ŒåŒ…å«æ¡ˆä»¶åˆ†é…ã€å›æ‡‰è™•ç†ã€ç‹€æ…‹è¿½è¹¤ç­‰åŠŸèƒ½

#### User Story
| id | æ¨™é¡Œ | å…§å®¹ | Acceptance Criteria |
|---|---|---|---|
| US-CASE-001 | æŸ¥çœ‹æ¡ˆä»¶æ¸…å–® | ä½œç‚ºå®¢æœäººå“¡ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ æŸ¥çœ‹æ‰€æœ‰å¾…è™•ç†çš„è«®è©¢æ¡ˆä»¶ï¼Œä»¥ä¾¿åŠæ™‚å›æ‡‰å®¢æˆ¶éœ€æ±‚ | ç³»çµ±é¡¯ç¤ºæ‰€æœ‰æ¡ˆä»¶æ¸…å–®ï¼›æ”¯æ´ç‹€æ…‹ã€é¡å‹ã€å„ªå…ˆç´šç¯©é¸ï¼›é¡¯ç¤ºè™•ç†æ™‚æ•ˆ |
| US-CASE-002 | æ¡ˆä»¶åˆ†é…ç®¡ç† | ä½œç‚ºä¸»ç®¡ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ å°‡æ¡ˆä»¶åˆ†é…çµ¦åˆé©çš„è™•ç†äººå“¡ï¼Œä»¥ä¾¿æé«˜è™•ç†æ•ˆç‡ | ç³»çµ±æä¾›æ¡ˆä»¶æŒ‡æ´¾åŠŸèƒ½ï¼›å¯é¸æ“‡è™•ç†äººå“¡ï¼›è‡ªå‹•ç™¼é€é€šçŸ¥ï¼›è¨˜éŒ„åˆ†é…æ­·å² |
| US-CASE-003 | å›æ‡‰å®¢æˆ¶è«®è©¢ | ä½œç‚ºå®¢æœäººå“¡ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ å›æ‡‰å®¢æˆ¶è«®è©¢ï¼Œä»¥ä¾¿è§£æ±ºå®¢æˆ¶å•é¡Œ | ç³»çµ±æä¾›å›æ‡‰ç·¨è¼¯åŠŸèƒ½ï¼›æ”¯æ´å¤šç¨®å›æ‡‰æ–¹å¼ï¼›è‡ªå‹•è¨˜éŒ„å›æ‡‰æ™‚é–“ï¼›æ›´æ–°æ¡ˆä»¶ç‹€æ…‹ |
| US-CASE-004 | æ¡ˆä»¶çµ±è¨ˆå ±è¡¨ | ä½œç‚ºä¸»ç®¡ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ æŸ¥çœ‹æ¡ˆä»¶è™•ç†çµ±è¨ˆï¼Œä»¥ä¾¿è©•ä¼°åœ˜éšŠç¸¾æ•ˆ | ç³»çµ±æä¾›çµ±è¨ˆå ±è¡¨ï¼›é¡¯ç¤ºè™•ç†æ™‚æ•ˆã€è§£æ±ºç‡ï¼›æ”¯æ´æ™‚é–“å€é–“ç¯©é¸ï¼›å¯åŒ¯å‡ºå ±è¡¨ |

#### è³‡æ–™ Schema (TypeScript Interface)
```typescript
interface CaseAssignment {
  id: string;                    // UUID
  inquiry_id: string;            // æ¡ˆä»¶ID
  assigned_from?: string;        // åŸè™•ç†äººå“¡ID
  assigned_to: string;           // æ–°è™•ç†äººå“¡ID
  assigned_by: string;           // æŒ‡æ´¾è€…ID
  assignment_reason?: string;    // æŒ‡æ´¾åŸå› 
  previous_status: string;       // åŸç‹€æ…‹
  new_status: string;           // æ–°ç‹€æ…‹
  created_at: string;           // ISO 8601 æ ¼å¼
}

interface CaseWorklog {
  id: string;                    // UUID
  inquiry_id: string;            // æ¡ˆä»¶ID
  staff_id: string;             // è™•ç†äººå“¡ID
  staff_name: string;           // è™•ç†äººå“¡å§“å
  action_type: 'CREATED' | 'ASSIGNED' | 'RESPONDED' | 'STATUS_CHANGED' | 'CLOSED'; // å‹•ä½œé¡å‹
  description: string;           // å‹•ä½œæè¿°
  time_spent?: number;          // èŠ±è²»æ™‚é–“(åˆ†é˜)
  created_at: string;           // ISO 8601 æ ¼å¼
}

interface CaseStatistics {
  period: string;               // çµ±è¨ˆæœŸé–“ YYYY-MM
  total_cases: number;          // ç¸½æ¡ˆä»¶æ•¸
  new_cases: number;           // æ–°å¢æ¡ˆä»¶æ•¸
  resolved_cases: number;      // å·²è§£æ±ºæ¡ˆä»¶æ•¸
  pending_cases: number;       // å¾…è™•ç†æ¡ˆä»¶æ•¸
  average_response_time: number; // å¹³å‡å›æ‡‰æ™‚é–“(å°æ™‚)
  average_resolution_time: number; // å¹³å‡è§£æ±ºæ™‚é–“(å°æ™‚)
  satisfaction_score?: number;   // æ»¿æ„åº¦è©•åˆ†
  by_inquiry_type: Record<string, number>; // ä¾è«®è©¢é¡å‹çµ±è¨ˆ
  by_staff: Array<{             // ä¾äººå“¡çµ±è¨ˆ
    staff_id: string;
    staff_name: string;
    cases_handled: number;
    avg_response_time: number;
    resolution_rate: number;
  }>;
  created_at: string;           // ISO 8601 æ ¼å¼
}

interface CaseTemplate {
  id: string;                   // UUID
  name: string;                 // ç¯„æœ¬åç¨±
  inquiry_type: string;         // é©ç”¨è«®è©¢é¡å‹
  subject: string;              // ä¸»é¡Œç¯„æœ¬
  content: string;              // å…§å®¹ç¯„æœ¬
  variables: string[];          // å¯ç”¨è®Šæ•¸åˆ—è¡¨
  is_active: boolean;           // æ˜¯å¦å•Ÿç”¨
  created_by: string;           // å»ºç«‹è€…ID
  created_at: string;           // ISO 8601 æ ¼å¼
  updated_at: string;           // ISO 8601 æ ¼å¼
}
```

#### API è¨­è¨ˆ
- `GET /api/v1/admin/contact-inquiries`ï¼šå–å¾—æ¡ˆä»¶æ¸…å–®ï¼ˆæ”¯æ´ç¯©é¸ï¼‰
- `GET /api/v1/admin/contact-inquiries/:id`ï¼šå–å¾—æ¡ˆä»¶è©³æƒ…
- `PUT /api/v1/admin/contact-inquiries/:id/assign`ï¼šåˆ†é…æ¡ˆä»¶
- `POST /api/v1/admin/contact-inquiries/:id/responses`ï¼šæ–°å¢å›æ‡‰
- `PUT /api/v1/admin/contact-inquiries/:id/status`ï¼šæ›´æ–°æ¡ˆä»¶ç‹€æ…‹
- `GET /api/v1/admin/case-statistics`ï¼šå–å¾—æ¡ˆä»¶çµ±è¨ˆ
- `GET /api/v1/admin/case-templates`ï¼šå–å¾—å›æ‡‰ç¯„æœ¬
- `POST /api/v1/admin/case-templates`ï¼šå»ºç«‹å›æ‡‰ç¯„æœ¬
- `GET /api/v1/admin/staff-workload`ï¼šå–å¾—äººå“¡å·¥ä½œè² è·

---

### ğŸ“Œ åŠŸèƒ½åç¨±ï¼šæ•™å­¸æ’ç¨‹ç®¡ç†
**æ‰€å±¬ APP**ï¼šTeacher Dashboard  
**åŠŸèƒ½æè¿°**ï¼šæä¾›æ•™å¸«æŸ¥çœ‹æ•™å­¸æ’ç¨‹ã€ç®¡ç†å­¸ç”Ÿåå–®ã€æº–å‚™èª²ç¨‹ç­‰åŠŸèƒ½

#### User Story
| id | æ¨™é¡Œ | å…§å®¹ | Acceptance Criteria |
|---|---|---|---|
| US-TEACH-001 | æŸ¥çœ‹æ•™å­¸æ’ç¨‹ | ä½œç‚ºæ•™å¸«ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ æŸ¥çœ‹æˆ‘çš„æ•™å­¸æ’ç¨‹ï¼Œä»¥ä¾¿å®‰æ’æ•™å­¸æº–å‚™ | ç³»çµ±é¡¯ç¤ºä¸€é€±å…§æ‰€æœ‰èª²ç¨‹ï¼›åŒ…å«æ™‚é–“ã€åœ°é»ã€å­¸ç”Ÿäººæ•¸ï¼›æ”¯æ´æœˆæ›†æª¢è¦– |
| US-TEACH-002 | ç®¡ç†å­¸ç”Ÿåå–® | ä½œç‚ºæ•™å¸«ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ æŸ¥çœ‹æ¯å ‚èª²çš„å­¸ç”Ÿåå–®ï¼Œä»¥ä¾¿èª²å‰æº–å‚™ | ç³»çµ±é¡¯ç¤ºå·²é ç´„å­¸ç”Ÿè³‡è¨Šï¼›åŒ…å«å‡ºå¸­ç´€éŒ„ï¼›æ”¯æ´åŒ¯å‡ºåŠŸèƒ½ |
| US-TEACH-003 | è¨˜éŒ„èª²ç¨‹ç­†è¨˜ | ä½œç‚ºæ•™å¸«ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ è¨˜éŒ„æ¯å ‚èª²çš„æ•™å­¸ç­†è¨˜ï¼Œä»¥ä¾¿è¿½è¹¤æ•™å­¸é€²åº¦ | ç³»çµ±æä¾›ç­†è¨˜ç·¨è¼¯åŠŸèƒ½ï¼›è‡ªå‹•å„²å­˜ï¼›æ”¯æ´æª”æ¡ˆé™„ä»¶ |

#### è³‡æ–™ Schema (TypeScript Interface)
```typescript
interface Teacher {
  id: string;                   // UUID
  user_id: string;             // é—œè¯ç”¨æˆ¶ID
  employee_id: string;         // å“¡å·¥ç·¨è™Ÿ
  name: string;                // æ•™å¸«å§“å
  email: string;               // é›»å­éƒµä»¶
  phone: string;               // é›»è©±è™Ÿç¢¼
  specialties: string[];       // å°ˆé•·é ˜åŸŸ
  languages: string[];         // æ•™å­¸èªè¨€
  experience_years: number;    // æ•™å­¸ç¶“é©—å¹´æ•¸
  bio: string;                // å€‹äººç°¡ä»‹
  profile_image_url: string;   // å€‹äººç…§ç‰‡URL
  rating: number;             // æ•™å¸«è©•åˆ† (0-5)
  total_students: number;     // ç´¯è¨ˆæ•™å­¸å­¸ç”Ÿæ•¸
  is_active: boolean;         // æ˜¯å¦åœ¨è·
  created_at: string;         // ISO 8601 æ ¼å¼
  updated_at: string;         // ISO 8601 æ ¼å¼
}

interface TeachingSchedule {
  id: string;                 // UUID
  teacher_id: string;        // æ•™å¸«ID
  session_id: string;        // èª²ç¨‹æ™‚æ®µID
  preparation_notes?: string; // èª²å‰æº–å‚™ç­†è¨˜
  teaching_notes?: string;    // èª²å¾Œæ•™å­¸ç­†è¨˜
  attendance_recorded: boolean; // æ˜¯å¦å·²è¨˜éŒ„å‡ºå¸­
  materials_prepared: boolean;  // æ˜¯å¦å·²æº–å‚™æ•™æ
  created_at: string;        // ISO 8601 æ ¼å¼
  updated_at: string;        // ISO 8601 æ ¼å¼
}

interface StudentAttendance {
  id: string;                // UUID
  booking_id: string;       // é ç´„ID
  session_id: string;       // èª²ç¨‹æ™‚æ®µID
  student_id: string;       // å­¸ç”ŸID
  status: 'PRESENT' | 'ABSENT' | 'LATE' | 'EXCUSED'; // å‡ºå¸­ç‹€æ…‹
  arrival_time?: string;    // åˆ°é”æ™‚é–“ HH:mm
  notes?: string;           // å‚™è¨»
  recorded_by: string;      // è¨˜éŒ„è€…ID
  recorded_at: string;      // è¨˜éŒ„æ™‚é–“ ISO 8601
}
```

#### API è¨­è¨ˆ
- `GET /api/v1/teachers/:id/schedule`ï¼šå–å¾—æ•™å¸«æ’ç¨‹
- `GET /api/v1/sessions/:id/students`ï¼šå–å¾—èª²ç¨‹å­¸ç”Ÿåå–®
- `POST /api/v1/sessions/:id/attendance`ï¼šè¨˜éŒ„å­¸ç”Ÿå‡ºå¸­
- `PUT /api/v1/sessions/:id/notes`ï¼šæ›´æ–°èª²ç¨‹ç­†è¨˜
- `GET /api/v1/teachers/:id/statistics`ï¼šå–å¾—æ•™å¸«çµ±è¨ˆè³‡æ–™

---

### ğŸ“Œ åŠŸèƒ½åç¨±ï¼šè«‹å‡ç”³è«‹ç³»çµ±
**æ‰€å±¬ APP**ï¼šTeacher Dashboard  
**åŠŸèƒ½æè¿°**ï¼šæä¾›æ•™å¸«è«‹å‡ç”³è«‹ã€å¯©æ ¸æµç¨‹ã€ä»£èª²å®‰æ’ç­‰åŠŸèƒ½

#### User Story
| id | æ¨™é¡Œ | å…§å®¹ | Acceptance Criteria |
|---|---|---|---|
| US-LEAVE-001 | ç”³è«‹è«‹å‡ | ä½œç‚ºæ•™å¸«ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ ç”³è«‹è«‹å‡ï¼Œä»¥ä¾¿è™•ç†å€‹äººäº‹å‹™ | ç³»çµ±æä¾›è«‹å‡è¡¨å–®ï¼›é¸æ“‡å½±éŸ¿èª²ç¨‹ï¼›è‡ªå‹•è¨ˆç®—å½±éŸ¿ç¯„åœï¼›ç™¼é€å¯©æ ¸é€šçŸ¥ |
| US-LEAVE-002 | æŸ¥çœ‹è«‹å‡ç‹€æ…‹ | ä½œç‚ºæ•™å¸«ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ æŸ¥çœ‹è«‹å‡ç”³è«‹ç‹€æ…‹ï¼Œä»¥ä¾¿äº†è§£å¯©æ ¸é€²åº¦ | ç³»çµ±é¡¯ç¤ºæ‰€æœ‰è«‹å‡è¨˜éŒ„ï¼›åŒ…å«å¯©æ ¸ç‹€æ…‹ï¼›æä¾›å–æ¶ˆåŠŸèƒ½ |
| US-LEAVE-003 | å¯©æ ¸è«‹å‡ç”³è«‹ | ä½œç‚ºç®¡ç†å“¡ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ å¯©æ ¸æ•™å¸«è«‹å‡ç”³è«‹ï¼Œä»¥ä¾¿ç¶­è­·æ•™å­¸å“è³ª | ç³»çµ±é¡¯ç¤ºå¾…å¯©æ ¸ç”³è«‹ï¼›æä¾›æ‰¹å‡†/æ‹’çµ•é¸é …ï¼›è‡ªå‹•é€šçŸ¥ç”³è«‹è€… |

#### è³‡æ–™ Schema (TypeScript Interface)
```typescript
interface LeaveRequest {
  id: string;                 // UUID
  teacher_id: string;        // æ•™å¸«ID
  leave_type: 'SICK' | 'PERSONAL' | 'EMERGENCY' | 'ANNUAL' | 'MATERNITY'; // è«‹å‡é¡å‹
  start_date: string;        // é–‹å§‹æ—¥æœŸ ISO 8601
  end_date: string;          // çµæŸæ—¥æœŸ ISO 8601
  reason: string;            // è«‹å‡åŸå› 
  affected_sessions: string[]; // å½±éŸ¿çš„èª²ç¨‹æ™‚æ®µID
  substitute_teacher_id?: string; // ä»£èª²æ•™å¸«ID
  status: 'PENDING' | 'APPROVED' | 'REJECTED' | 'CANCELLED'; // ç”³è«‹ç‹€æ…‹
  submitted_at: string;      // æäº¤æ™‚é–“ ISO 8601
  reviewed_at?: string;      // å¯©æ ¸æ™‚é–“ ISO 8601
  reviewer_id?: string;      // å¯©æ ¸è€…ID
  review_notes?: string;     // å¯©æ ¸å‚™è¨»
  impact_level: 'LOW' | 'MEDIUM' | 'HIGH'; // å½±éŸ¿ç¨‹åº¦
}

interface SubstituteArrangement {
  id: string;                // UUID
  leave_request_id: string;  // è«‹å‡ç”³è«‹ID
  original_teacher_id: string; // åŸæ•™å¸«ID
  substitute_teacher_id: string; // ä»£èª²æ•™å¸«ID
  session_id: string;        // èª²ç¨‹æ™‚æ®µID
  arrangement_status: 'PENDING' | 'CONFIRMED' | 'DECLINED'; // å®‰æ’ç‹€æ…‹
  notes?: string;            // å®‰æ’å‚™è¨»
  created_at: string;        // ISO 8601 æ ¼å¼
  updated_at: string;        // ISO 8601 æ ¼å¼
}
```

#### API è¨­è¨ˆ
- `POST /api/v1/leave-requests`ï¼šæäº¤è«‹å‡ç”³è«‹
- `GET /api/v1/leave-requests/my`ï¼šå–å¾—æˆ‘çš„è«‹å‡è¨˜éŒ„
- `PUT /api/v1/leave-requests/:id/cancel`ï¼šå–æ¶ˆè«‹å‡ç”³è«‹
- `GET /api/v1/leave-requests`ï¼šå–å¾—æ‰€æœ‰è«‹å‡ç”³è«‹ï¼ˆç®¡ç†å“¡ï¼‰
- `PUT /api/v1/leave-requests/:id/review`ï¼šå¯©æ ¸è«‹å‡ç”³è«‹
- `POST /api/v1/substitute-arrangements`ï¼šå®‰æ’ä»£èª²

---

### ğŸ“Œ åŠŸèƒ½åç¨±ï¼šç”¨æˆ¶ç®¡ç†ç³»çµ±
**æ‰€å±¬ APP**ï¼šAdmin Console  
**åŠŸèƒ½æè¿°**ï¼šæä¾›ç®¡ç†å“¡ç®¡ç†æ‰€æœ‰ç”¨æˆ¶å¸³è™Ÿã€æ¬Šé™ã€ç‹€æ…‹ç­‰åŠŸèƒ½

#### User Story
| id | æ¨™é¡Œ | å…§å®¹ | Acceptance Criteria |
|---|---|---|---|
| US-ADMIN-001 | æŸ¥çœ‹ç”¨æˆ¶æ¸…å–® | ä½œç‚ºç®¡ç†å“¡ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ¶æ¸…å–®ï¼Œä»¥ä¾¿ç®¡ç†ç”¨æˆ¶å¸³è™Ÿ | ç³»çµ±é¡¯ç¤ºæ‰€æœ‰ç”¨æˆ¶è³‡è¨Šï¼›æ”¯æ´è§’è‰²ã€ç‹€æ…‹ç¯©é¸ï¼›æä¾›æœå°‹åŠŸèƒ½ |
| US-ADMIN-002 | ç®¡ç†ç”¨æˆ¶ç‹€æ…‹ | ä½œç‚ºç®¡ç†å“¡ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ ç®¡ç†ç”¨æˆ¶å¸³è™Ÿç‹€æ…‹ï¼Œä»¥ä¾¿ç¶­è­·ç³»çµ±å®‰å…¨ | ç³»çµ±æä¾›å•Ÿç”¨/åœç”¨åŠŸèƒ½ï¼›è¨˜éŒ„ç•°å‹•æ­·å²ï¼›è‡ªå‹•é€šçŸ¥ç”¨æˆ¶ |
| US-ADMIN-003 | é‡è¨­ç”¨æˆ¶å¯†ç¢¼ | ä½œç‚ºç®¡ç†å“¡ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ é‡è¨­ç”¨æˆ¶å¯†ç¢¼ï¼Œä»¥ä¾¿å”åŠ©å¿˜è¨˜å¯†ç¢¼çš„ç”¨æˆ¶ | ç³»çµ±ç”Ÿæˆè‡¨æ™‚å¯†ç¢¼ï¼›ç™¼é€è‡³ç”¨æˆ¶ä¿¡ç®±ï¼›è¦æ±‚é¦–æ¬¡ç™»å…¥ä¿®æ”¹ |

#### è³‡æ–™ Schema (TypeScript Interface)
```typescript
interface UserManagement {
  id: string;                // UUID
  user_id: string;          // ç”¨æˆ¶ID
  admin_id: string;         // ç®¡ç†å“¡ID
  action_type: 'CREATE' | 'UPDATE' | 'SUSPEND' | 'ACTIVATE' | 'DELETE'; // æ“ä½œé¡å‹
  previous_values?: Record<string, any>; // è®Šæ›´å‰æ•¸å€¼
  new_values?: Record<string, any>;     // è®Šæ›´å¾Œæ•¸å€¼
  reason?: string;          // æ“ä½œåŸå› 
  ip_address: string;       // æ“ä½œIP
  created_at: string;       // ISO 8601 æ ¼å¼
}

interface SystemRole {
  id: string;               // UUID
  name: string;            // è§’è‰²åç¨±
  display_name: string;    // é¡¯ç¤ºåç¨±
  description: string;     // è§’è‰²æè¿°
  permissions: string[];   // æ¬Šé™åˆ—è¡¨
  is_system_role: boolean; // æ˜¯å¦ç‚ºç³»çµ±é è¨­è§’è‰²
  created_at: string;      // ISO 8601 æ ¼å¼
  updated_at: string;      // ISO 8601 æ ¼å¼
}

interface UserRole {
  id: string;              // UUID
  user_id: string;        // ç”¨æˆ¶ID
  role_id: string;        // è§’è‰²ID
  assigned_by: string;    // æŒ‡æ´¾è€…ID
  assigned_at: string;    // æŒ‡æ´¾æ™‚é–“ ISO 8601
  expires_at?: string;    // éæœŸæ™‚é–“ ISO 8601
}
```

#### API è¨­è¨ˆ
- `GET /api/v1/admin/users`ï¼šå–å¾—ç”¨æˆ¶æ¸…å–®
- `GET /api/v1/admin/users/:id`ï¼šå–å¾—ç”¨æˆ¶è©³æƒ…
- `PUT /api/v1/admin/users/:id/status`ï¼šæ›´æ–°ç”¨æˆ¶ç‹€æ…‹
- `POST /api/v1/admin/users/:id/reset-password`ï¼šé‡è¨­å¯†ç¢¼
- `GET /api/v1/admin/users/:id/activity-log`ï¼šå–å¾—ç”¨æˆ¶æ´»å‹•è¨˜éŒ„
- `POST /api/v1/admin/roles`ï¼šå»ºç«‹è§’è‰²
- `PUT /api/v1/admin/users/:id/roles`ï¼šæŒ‡æ´¾è§’è‰²

---

### ğŸ“Œ åŠŸèƒ½åç¨±ï¼šè¨‚å–®èˆ‡ä»˜æ¬¾ç®¡ç†
**æ‰€å±¬ APP**ï¼šAdmin Console  
**åŠŸèƒ½æè¿°**ï¼šæä¾›ç®¡ç†å“¡ç®¡ç†æ‰€æœ‰è¨‚å–®ã€ä»˜æ¬¾ç‹€æ…‹ã€é€€æ¬¾è™•ç†ç­‰åŠŸèƒ½

#### User Story
| id | æ¨™é¡Œ | å…§å®¹ | Acceptance Criteria |
|---|---|---|---|
| US-ORDER-001 | æŸ¥çœ‹è¨‚å–®æ¸…å–® | ä½œç‚ºç®¡ç†å“¡ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ æŸ¥çœ‹æ‰€æœ‰è¨‚å–®ï¼Œä»¥ä¾¿ç®¡ç†äº¤æ˜“ç‹€æ³ | ç³»çµ±é¡¯ç¤ºæ‰€æœ‰è¨‚å–®ï¼›æ”¯æ´ç‹€æ…‹ã€æ—¥æœŸç¯©é¸ï¼›é¡¯ç¤ºä»˜æ¬¾è³‡è¨Š |
| US-ORDER-002 | è™•ç†é€€æ¬¾ç”³è«‹ | ä½œç‚ºç®¡ç†å“¡ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ è™•ç†é€€æ¬¾ç”³è«‹ï¼Œä»¥ä¾¿ç¶­è­·å®¢æˆ¶é—œä¿‚ | ç³»çµ±æä¾›é€€æ¬¾è™•ç†ä»‹é¢ï¼›è¨˜éŒ„é€€æ¬¾åŸå› ï¼›è‡ªå‹•æ›´æ–°è¨‚å–®ç‹€æ…‹ |
| US-ORDER-003 | æŸ¥çœ‹ä»˜æ¬¾çµ±è¨ˆ | ä½œç‚ºç®¡ç†å“¡ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ æŸ¥çœ‹ä»˜æ¬¾çµ±è¨ˆè³‡æ–™ï¼Œä»¥ä¾¿äº†è§£ç‡Ÿæ”¶ç‹€æ³ | ç³»çµ±æä¾›ç‡Ÿæ”¶å ±è¡¨ï¼›æ”¯æ´æ™‚é–“å€é–“ç¯©é¸ï¼›é¡¯ç¤ºè¶¨å‹¢åœ–è¡¨ |

#### è³‡æ–™ Schema (TypeScript Interface)
```typescript
interface Order {
  id: string;                    // UUID
  order_number: string;          // è¨‚å–®ç·¨è™Ÿ
  user_id: string;              // ç”¨æˆ¶ID
  user_email?: string;          // éç™»å…¥ç”¨æˆ¶email
  user_name?: string;           // éç™»å…¥ç”¨æˆ¶å§“å
  item_type: 'MEMBERSHIP' | 'COURSE' | 'MATERIAL'; // è³¼è²·é …ç›®é¡å‹
  item_id: string;              // é …ç›®ID
  item_name: string;            // é …ç›®åç¨±
  quantity: number;             // æ•¸é‡
  unit_price: number;           // å–®åƒ¹ (TWD)
  total_amount: number;         // ç¸½é‡‘é¡ (TWD)
  discount_amount: number;      // æŠ˜æ‰£é‡‘é¡ (TWD)
  final_amount: number;         // æœ€çµ‚é‡‘é¡ (TWD)
  currency: string;             // è²¨å¹£ä»£ç¢¼
  status: 'CREATED' | 'PAID' | 'CANCELLED' | 'REFUNDED' | 'EXPIRED'; // è¨‚å–®ç‹€æ…‹
  payment_method?: 'CREDIT_CARD' | 'BANK_TRANSFER' | 'CASH' | 'OTHER'; // ä»˜æ¬¾æ–¹å¼
  payment_status: 'PENDING' | 'COMPLETED' | 'FAILED' | 'REFUNDED'; // ä»˜æ¬¾ç‹€æ…‹
  payment_id?: string;          // ç¬¬ä¸‰æ–¹ä»˜æ¬¾ID
  expires_at: string;           // éæœŸæ™‚é–“ ISO 8601
  created_at: string;           // ISO 8601 æ ¼å¼
  updated_at: string;           // ISO 8601 æ ¼å¼
  paid_at?: string;             // ä»˜æ¬¾æ™‚é–“ ISO 8601
}

interface PaymentTransaction {
  id: string;                   // UUID
  order_id: string;            // è¨‚å–®ID
  transaction_id: string;      // äº¤æ˜“ID
  gateway: 'STRIPE' | 'NEWEBPAY' | 'ECPAY' | 'PAYPAL'; // ä»˜æ¬¾é–˜é“
  amount: number;              // é‡‘é¡ (TWD)
  currency: string;            // è²¨å¹£ä»£ç¢¼
  status: 'PENDING' | 'SUCCESS' | 'FAILED' | 'CANCELLED'; // äº¤æ˜“ç‹€æ…‹
  gateway_response: Record<string, any>; // é–˜é“å›æ‡‰è³‡æ–™
  processed_at: string;        // è™•ç†æ™‚é–“ ISO 8601
  created_at: string;          // ISO 8601 æ ¼å¼
}

interface RefundRequest {
  id: string;                  // UUID
  order_id: string;           // è¨‚å–®ID
  user_id: string;            // ç”³è«‹ç”¨æˆ¶ID
  amount: number;             // é€€æ¬¾é‡‘é¡ (TWD)
  reason: string;             // é€€æ¬¾åŸå› 
  status: 'PENDING' | 'APPROVED' | 'REJECTED' | 'PROCESSED'; // ç”³è«‹ç‹€æ…‹
  admin_notes?: string;       // ç®¡ç†å“¡å‚™è¨»
  processed_by?: string;      // è™•ç†è€…ID
  requested_at: string;       // ç”³è«‹æ™‚é–“ ISO 8601
  processed_at?: string;      // è™•ç†æ™‚é–“ ISO 8601
}
```

#### API è¨­è¨ˆ
- `GET /api/v1/admin/orders`ï¼šå–å¾—è¨‚å–®æ¸…å–®
- `GET /api/v1/admin/orders/:id`ï¼šå–å¾—è¨‚å–®è©³æƒ…
- `PUT /api/v1/admin/orders/:id/status`ï¼šæ›´æ–°è¨‚å–®ç‹€æ…‹
- `POST /api/v1/admin/orders/:id/refund`ï¼šè™•ç†é€€æ¬¾
- `GET /api/v1/admin/payments/statistics`ï¼šå–å¾—ä»˜æ¬¾çµ±è¨ˆ
- `GET /api/v1/admin/refund-requests`ï¼šå–å¾—é€€æ¬¾ç”³è«‹æ¸…å–®
- `PUT /api/v1/admin/refund-requests/:id/review`ï¼šå¯©æ ¸é€€æ¬¾ç”³è«‹

---

### ğŸ“Œ åŠŸèƒ½åç¨±ï¼šä¼æ¥­å®¢æˆ¶ç®¡ç†
**æ‰€å±¬ APP**ï¼šCorporate Portal  
**åŠŸèƒ½æè¿°**ï¼šæä¾›ä¼æ¥­å®¢æˆ¶ç®¡ç†ã€æ‰¹é‡æ¡è³¼ã€å“¡å·¥å­¸ç¿’è¿½è¹¤ç­‰åŠŸèƒ½

#### User Story
| id | æ¨™é¡Œ | å…§å®¹ | Acceptance Criteria |
|---|---|---|---|
| US-CORP-001 | ä¼æ¥­å®¢æˆ¶è¨»å†Š | ä½œç‚ºä¼æ¥­å®¢æˆ¶ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ è¨»å†Šä¼æ¥­å¸³è™Ÿï¼Œä»¥ä¾¿ç®¡ç†å“¡å·¥å­¸ç¿’ | ç³»çµ±æä¾›ä¼æ¥­è¨»å†Šè¡¨å–®ï¼›é©—è­‰ä¼æ¥­è³‡è¨Šï¼›å»ºç«‹ç®¡ç†å“¡å¸³è™Ÿ |
| US-CORP-002 | æ‰¹é‡è³¼è²·æ–¹æ¡ˆ | ä½œç‚ºä¼æ¥­å®¢æˆ¶ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ æ‰¹é‡è³¼è²·å­¸ç¿’æ–¹æ¡ˆï¼Œä»¥ä¾¿å“¡å·¥ä½¿ç”¨ | ç³»çµ±æä¾›æ‰¹é‡è³¼è²·ä»‹é¢ï¼›æ”¯æ´å®¢è£½åŒ–æ–¹æ¡ˆï¼›æä¾›å ±åƒ¹åŠŸèƒ½ |
| US-CORP-003 | å“¡å·¥å­¸ç¿’è¿½è¹¤ | ä½œç‚ºä¼æ¥­ç®¡ç†å“¡ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ è¿½è¹¤å“¡å·¥å­¸ç¿’é€²åº¦ï¼Œä»¥ä¾¿è©•ä¼°åŸ¹è¨“æ•ˆæœ | ç³»çµ±æä¾›å­¸ç¿’å ±è¡¨ï¼›é¡¯ç¤ºå®Œèª²ç‡ï¼›æ”¯æ´åŒ¯å‡ºåŠŸèƒ½ |

#### è³‡æ–™ Schema (TypeScript Interface)
```typescript
interface CorporateClient {
  id: string;                    // UUID
  company_name: string;          // å…¬å¸åç¨±
  business_registration: string; // å•†æ¥­ç™»è¨˜è™Ÿç¢¼
  industry: string;             // è¡Œæ¥­åˆ¥
  contact_person: string;       // è¯çµ¡äºº
  contact_email: string;        // è¯çµ¡ä¿¡ç®±
  contact_phone: string;        // è¯çµ¡é›»è©±
  address: string;              // å…¬å¸åœ°å€
  employee_count: number;       // å“¡å·¥äººæ•¸
  account_manager_id?: string;  // æ¥­å‹™è² è²¬äººID
  contract_start: string;       // åˆç´„é–‹å§‹æ—¥ ISO 8601
  contract_end: string;         // åˆç´„çµæŸæ—¥ ISO 8601
  status: 'ACTIVE' | 'INACTIVE' | 'SUSPENDED'; // å®¢æˆ¶ç‹€æ…‹
  billing_info: CorporateBilling; // å¸³å–®è³‡è¨Š
  created_at: string;           // ISO 8601 æ ¼å¼
  updated_at: string;           // ISO 8601 æ ¼å¼
}

interface CorporateBilling {
  company_name: string;         // å¸³å–®å…¬å¸åç¨±
  tax_id: string;              // çµ±ä¸€ç·¨è™Ÿ
  billing_address: string;     // å¸³å–®åœ°å€
  billing_email: string;       // å¸³å–®ä¿¡ç®±
  payment_terms: number;       // ä»˜æ¬¾æ¢ä»¶(å¤©æ•¸)
  preferred_payment_method: 'INVOICE' | 'BANK_TRANSFER' | 'CREDIT_CARD'; // åå¥½ä»˜æ¬¾æ–¹å¼
}

interface CorporateSubscription {
  id: string;                  // UUID
  corporate_id: string;       // ä¼æ¥­ID
  plan_id: string;            // æ–¹æ¡ˆID
  employee_limit: number;     // å“¡å·¥ä½¿ç”¨é™åˆ¶
  start_date: string;         // é–‹å§‹æ—¥æœŸ ISO 8601
  end_date: string;           // çµæŸæ—¥æœŸ ISO 8601
  monthly_fee: number;        // æœˆè²» (TWD)
  custom_features: string[];  // å®¢è£½åŒ–åŠŸèƒ½
  status: 'ACTIVE' | 'EXPIRED' | 'CANCELLED'; // è¨‚é–±ç‹€æ…‹
  auto_renew: boolean;        // è‡ªå‹•çºŒç´„
  created_at: string;         // ISO 8601 æ ¼å¼
  updated_at: string;         // ISO 8601 æ ¼å¼
}

interface EmployeeLearningRecord {
  id: string;                 // UUID
  corporate_id: string;      // ä¼æ¥­ID
  employee_id: string;       // å“¡å·¥ID (ä¼æ¥­å…§éƒ¨ç·¨è™Ÿ)
  employee_name: string;     // å“¡å·¥å§“å
  employee_email: string;    // å“¡å·¥ä¿¡ç®±
  user_id?: string;          // å°æ‡‰ç³»çµ±ç”¨æˆ¶ID
  department: string;        // éƒ¨é–€
  courses_enrolled: number;  // å ±åèª²ç¨‹æ•¸
  courses_completed: number; // å®Œæˆèª²ç¨‹æ•¸
  total_study_hours: number; // ç¸½å­¸ç¿’æ™‚æ•¸
  last_activity: string;     // æœ€å¾Œæ´»å‹•æ™‚é–“ ISO 8601
  created_at: string;        // ISO 8601 æ ¼å¼
  updated_at: string;        // ISO 8601 æ ¼å¼
}
```

#### API è¨­è¨ˆ
- `POST /api/v1/corporate/register`ï¼šä¼æ¥­å®¢æˆ¶è¨»å†Š
- `GET /api/v1/corporate/clients`ï¼šå–å¾—ä¼æ¥­å®¢æˆ¶æ¸…å–®
- `GET /api/v1/corporate/clients/:id`ï¼šå–å¾—ä¼æ¥­å®¢æˆ¶è©³æƒ…
- `POST /api/v1/corporate/subscriptions`ï¼šå»ºç«‹ä¼æ¥­è¨‚é–±
- `GET /api/v1/corporate/:id/employees`ï¼šå–å¾—å“¡å·¥å­¸ç¿’è¨˜éŒ„
- `GET /api/v1/corporate/:id/reports`ï¼šå–å¾—å­¸ç¿’å ±è¡¨
- `PUT /api/v1/corporate/clients/:id`ï¼šæ›´æ–°ä¼æ¥­è³‡è¨Š

---

## ä¸‰ã€è³‡æ–™æµè¨­è¨ˆï¼ˆMECE åŸå‰‡ï¼‰

### ğŸ”„ æ ¸å¿ƒå¯¦é«”é—œä¿‚åœ–
```
User (ç”¨æˆ¶)
â”œâ”€â”€ UserMembership (æœƒå“¡è³‡æ ¼)
â”œâ”€â”€ Booking (é ç´„è¨˜éŒ„)
â”œâ”€â”€ Order (è¨‚å–®)
â”œâ”€â”€ ContactInquiry (è¯ç¹«è«®è©¢) [é—œè¯ç”¨æˆ¶ï¼Œå¦‚æœæ˜¯ç™»å…¥ç”¨æˆ¶]
â””â”€â”€ CorporateClient (ä¼æ¥­å®¢æˆ¶) [åƒ…ä¼æ¥­ç”¨æˆ¶]

MembershipPlan (æœƒå“¡æ–¹æ¡ˆ)
â”œâ”€â”€ UserMembership (æœƒå“¡è³‡æ ¼)
â””â”€â”€ Order (è¨‚å–®)

Course (èª²ç¨‹)
â”œâ”€â”€ CourseSession (èª²ç¨‹æ™‚æ®µ)
â””â”€â”€ Booking (é ç´„è¨˜éŒ„)

Teacher (æ•™å¸«)
â”œâ”€â”€ Course (èª²ç¨‹)
â”œâ”€â”€ TeachingSchedule (æ•™å­¸æ’ç¨‹)
â””â”€â”€ LeaveRequest (è«‹å‡ç”³è«‹)

Order (è¨‚å–®)
â”œâ”€â”€ PaymentTransaction (ä»˜æ¬¾äº¤æ˜“)
â””â”€â”€ RefundRequest (é€€æ¬¾ç”³è«‹)

ContactInquiry (è¯ç¹«è«®è©¢)
â”œâ”€â”€ ContactResponse (è«®è©¢å›æ‡‰)
â”œâ”€â”€ CaseAssignment (æ¡ˆä»¶åˆ†é…)
â””â”€â”€ CaseWorklog (æ¡ˆä»¶å·¥ä½œæ—¥èªŒ)
```

### ğŸ“Š è³‡æ–™æµå‘è¦å‰‡
1. **ç”¨æˆ¶èªè­‰æµç¨‹**ï¼š`User` â†’ `UserSession` â†’ `JWT Token`
2. **æœƒå“¡è³¼è²·æµç¨‹**ï¼š`User` â†’ `Order` â†’ `PaymentTransaction` â†’ `UserMembership`
3. **èª²ç¨‹é ç´„æµç¨‹**ï¼š`User` + `UserMembership` â†’ `CourseSession` â†’ `Booking`
4. **æ•™å­¸ç®¡ç†æµç¨‹**ï¼š`Teacher` â†’ `TeachingSchedule` â†’ `StudentAttendance`
5. **ä¼æ¥­ç®¡ç†æµç¨‹**ï¼š`CorporateClient` â†’ `CorporateSubscription` â†’ `EmployeeLearningRecord`
6. **å®¢æœæ¡ˆä»¶æµç¨‹**ï¼š`ContactInquiry` â†’ `CaseAssignment` â†’ `ContactResponse` â†’ `CaseWorklog`

### ğŸ”— MECE åŸå‰‡é©—è­‰
- **äº’æ–¥æ€§ (Mutually Exclusive)**ï¼šæ¯å€‹è³‡æ–™å¯¦é«”è·è²¬æ˜ç¢ºï¼Œç„¡é‡ç–ŠåŠŸèƒ½
- **å®Œæ•´æ€§ (Collectively Exhaustive)**ï¼šæ¶µè“‹æ‰€æœ‰æ¥­å‹™æµç¨‹å’Œéœ€æ±‚
- **ä¸€è‡´æ€§**ï¼šå‘½åè¦å‰‡å’Œè³‡æ–™æ ¼å¼çµ±ä¸€æ¨™æº–åŒ–

---

## å››ã€API è¨­è¨ˆæ¨™æº–

### ğŸ“‹ çµ±ä¸€éŸ¿æ‡‰æ ¼å¼
```typescript
interface ApiResponse<T> {
  success: boolean;
  data?: T;
  error?: ApiError;
  meta?: {
    page?: number;
    limit?: number;
    total?: number;
    has_next?: boolean;
  };
}

interface ApiError {
  code: string;
  message: string;
  details?: Record<string, any>;
}
```

### ğŸ”¢ HTTP ç‹€æ…‹ç¢¼è¦ç¯„
- **200 OK**ï¼šè«‹æ±‚æˆåŠŸ
- **201 Created**ï¼šè³‡æºå»ºç«‹æˆåŠŸ
- **400 Bad Request**ï¼šè«‹æ±‚æ ¼å¼éŒ¯èª¤
- **401 Unauthorized**ï¼šæœªæˆæ¬Š
- **403 Forbidden**ï¼šæ¬Šé™ä¸è¶³
- **404 Not Found**ï¼šè³‡æºä¸å­˜åœ¨
- **409 Conflict**ï¼šè³‡æºè¡çª
- **422 Unprocessable Entity**ï¼šè³‡æ–™é©—è­‰å¤±æ•—
- **500 Internal Server Error**ï¼šä¼ºæœå™¨éŒ¯èª¤

### ğŸ“„ åˆ†é åƒæ•¸æ¨™æº–
```typescript
interface PaginationParams {
  page?: number;      // é ç¢¼ (é è¨­: 1)
  limit?: number;     // æ¯é ç­†æ•¸ (é è¨­: 20, æœ€å¤§: 100)
  sort?: string;      // æ’åºæ¬„ä½
  order?: 'asc' | 'desc'; // æ’åºæ–¹å‘
}
```

### ğŸ” èªè­‰æ¨™æº–
- **Bearer Token**ï¼š`Authorization: Bearer <JWT_TOKEN>`
- **Token æœ‰æ•ˆæœŸ**ï¼š24å°æ™‚ï¼ˆå¯åˆ·æ–°ï¼‰
- **æ¬Šé™æª¢æŸ¥**ï¼šRole-based Access Control (RBAC)

---

## äº”ã€éŒ¯èª¤ç¢¼èˆ‡ä¾‹å¤–è™•ç†æ¨™æº–

### âŒ 4XX ç”¨æˆ¶ç«¯éŒ¯èª¤
```json
{
  "success": false,
  "error": {
    "code": "VALIDATION_FAILED",
    "message": "è³‡æ–™é©—è­‰å¤±æ•—",
    "details": {
      "field": "email",
      "reason": "Invalid email format"
    }
  }
}
```

### ğŸ”‘ èªè­‰ç›¸é—œéŒ¯èª¤ç¢¼
- **AUTH_001**: `USER_NOT_FOUND` - ç”¨æˆ¶ä¸å­˜åœ¨
- **AUTH_002**: `INVALID_CREDENTIALS` - å¸³è™Ÿå¯†ç¢¼éŒ¯èª¤
- **AUTH_003**: `TOKEN_EXPIRED` - Tokenå·²éæœŸ
- **AUTH_004**: `INSUFFICIENT_PERMISSIONS` - æ¬Šé™ä¸è¶³

### ğŸ’³ æœƒå“¡ç›¸é—œéŒ¯èª¤ç¢¼
- **MEMBER_001**: `MEMBERSHIP_NOT_FOUND` - æœƒå“¡è³‡æ ¼ä¸å­˜åœ¨
- **MEMBER_002**: `MEMBERSHIP_EXPIRED` - æœƒå“¡è³‡æ ¼å·²éæœŸ
- **MEMBER_003**: `ALREADY_ACTIVATED` - æœƒå“¡å¡å·²å•Ÿç”¨

### ğŸ“š èª²ç¨‹ç›¸é—œéŒ¯èª¤ç¢¼
- **COURSE_001**: `COURSE_NOT_FOUND` - èª²ç¨‹ä¸å­˜åœ¨
- **COURSE_002**: `SESSION_FULL` - èª²ç¨‹æ™‚æ®µå·²æ»¿
- **COURSE_003**: `BOOKING_DEADLINE_PASSED` - å·²è¶…éé ç´„æœŸé™
- **COURSE_004**: `ALREADY_BOOKED` - å·²é ç´„è©²æ™‚æ®µ

### ğŸ›’ è¨‚å–®ç›¸é—œéŒ¯èª¤ç¢¼
- **ORDER_001**: `ORDER_NOT_FOUND` - è¨‚å–®ä¸å­˜åœ¨
- **ORDER_002**: `ORDER_EXPIRED` - è¨‚å–®å·²éæœŸ
- **ORDER_003**: `PAYMENT_FAILED` - ä»˜æ¬¾å¤±æ•—
- **ORDER_004**: `REFUND_NOT_ALLOWED` - ä¸å…è¨±é€€æ¬¾

### ğŸ“ è¯ç¹«æ¡ˆä»¶ç›¸é—œéŒ¯èª¤ç¢¼
- **CONTACT_001**: `INQUIRY_NOT_FOUND` - è«®è©¢æ¡ˆä»¶ä¸å­˜åœ¨
- **CONTACT_002**: `ALREADY_ASSIGNED` - æ¡ˆä»¶å·²è¢«åˆ†é…
- **CONTACT_003**: `INVALID_STATUS_TRANSITION` - ç„¡æ•ˆçš„ç‹€æ…‹è½‰æ›
- **CONTACT_004**: `CASE_ALREADY_CLOSED` - æ¡ˆä»¶å·²é—œé–‰

### âš ï¸ 5XX ä¼ºæœå™¨ç«¯éŒ¯èª¤
```json
{
  "success": false,
  "error": {
    "code": "INTERNAL_SERVER_ERROR",
    "message": "ä¼ºæœå™¨å…§éƒ¨éŒ¯èª¤"
  }
}
```

### ğŸ“ éŒ¯èª¤è™•ç†æœ€ä½³å¯¦è¸
1. **çµ±ä¸€éŒ¯èª¤æ ¼å¼**ï¼šæ‰€æœ‰APIä½¿ç”¨ç›¸åŒçš„éŒ¯èª¤éŸ¿æ‡‰çµæ§‹
2. **èªæ„åŒ–éŒ¯èª¤ç¢¼**ï¼šéŒ¯èª¤ç¢¼éœ€æ¸…æ¥šè¡¨é”éŒ¯èª¤é¡å‹
3. **å¤šèªè¨€æ”¯æ´**ï¼šéŒ¯èª¤è¨Šæ¯æ”¯æ´å¤šèªè¨€
4. **è©³ç´°éŒ¯èª¤è³‡è¨Š**ï¼šæä¾›è¶³å¤ è³‡è¨Šå”åŠ©é™¤éŒ¯
5. **è¨˜éŒ„éŒ¯èª¤æ—¥èªŒ**ï¼šä¼ºæœå™¨ç«¯è¨˜éŒ„è©³ç´°éŒ¯èª¤è³‡è¨Š
6. **ç”¨æˆ¶å‹å–„è¨Šæ¯**ï¼šå‰ç«¯é¡¯ç¤ºç”¨æˆ¶æ˜“æ‡‚çš„éŒ¯èª¤æç¤º

---

## ğŸ“ çµèª

æ­¤æ–‡ä»¶æ¶µè“‹äº† TLI Connect ç³»çµ±æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„ï¼Œéµå¾ª MECE åŸå‰‡è¨­è¨ˆè³‡æ–™çµæ§‹ï¼Œæä¾›çµ±ä¸€çš„ API è¨­è¨ˆæ¨™æº–å’ŒéŒ¯èª¤è™•ç†æ©Ÿåˆ¶ã€‚æ‰€æœ‰ schema ä½¿ç”¨ TypeScript interface å®šç¾©ï¼Œç¢ºä¿å‹åˆ¥å®‰å…¨å’Œé–‹ç™¼æ•ˆç‡ã€‚

### âœ… å®Œæˆé …ç›®æª¢æ ¸è¡¨
- [x] æ‰€æœ‰åŠŸèƒ½å®Œæ•´åˆ—å‡ºï¼Œä¸éºæ¼ç¾æœ‰åŠŸèƒ½
- [x] è³‡æ–™æµç¬¦åˆ MECE åŸå‰‡ï¼Œé¿å…é‡è¤‡è³‡æ–™æˆ–äº¤éŒ¯ä¾è³´
- [x] å‘½åä¸€è‡´ã€ç°¡æ½”æ˜“æ‡‚
- [x] API ç›´è§€å¥½ç†è§£
- [x] è³‡æ–™ Schema ä½¿ç”¨ TypeScript Interface å®šç¾©
- [x] æ¯å€‹åŠŸèƒ½å‡å«å®Œæ•´ User Story è¡¨æ ¼
- [x] æ ¼å¼ã€éŒ¯èª¤è™•ç†ã€æ¬„ä½è¨­è¨ˆçµ±ä¸€æ¨™æº–
- [x] æ–°å¢è¯ç¹«æˆ‘å€‘è¡¨å–®èˆ‡æ¡ˆä»¶ç®¡ç†ç³»çµ±åŠŸèƒ½

---

**æ–‡ä»¶ç‰ˆæœ¬**ï¼šv1.1  
**æœ€å¾Œæ›´æ–°**ï¼š2025-01-29  
**ç¶­è­·è€…**ï¼šTLI Connect é–‹ç™¼åœ˜éšŠ