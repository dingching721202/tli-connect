<!DOCTYPE html>
<html>
<head>
    <title>ç•¶å‰å¯¦ä½œé©—è­‰æ¸¬è©¦</title>
    <meta charset="utf-8">
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .summary { background: #e3f2fd; border: 2px solid #2196f3; padding: 20px; margin: 20px 0; border-radius: 8px; }
        .test { border: 1px solid #ccc; margin: 10px 0; padding: 15px; border-radius: 5px; }
        .success { background: #e8f5e8; border-color: #4caf50; }
        .error { background: #ffe8e8; border-color: #f44336; }
        .code { background: #f5f5f5; padding: 10px; border-radius: 3px; font-family: monospace; }
        h1, h2 { color: #333; }
        h3 { color: #555; margin-top: 0; }
    </style>
</head>
<body>
    <h1>ğŸ” ç•¶å‰å¯¦ä½œé©—è­‰æ¸¬è©¦</h1>
    
    <div class="summary">
        <h2>ğŸ“‹ æª¢æŸ¥é‡é»</h2>
        <p><strong>ä½ æåˆ°ï¼š</strong>æŸ¥çœ‹èª²ç¨‹æ•™ææˆåŠŸäº†ï¼Œä½†é€²å…¥æ•™å®¤æŒ‰éˆ•æ²’æœ‰æˆåŠŸ</p>
        <p><strong>éœ€è¦é©—è­‰ï¼š</strong></p>
        <ul>
            <li>1. æ ¹æ“šèª²ç¨‹åç¨±æ‰¾åˆ°å°æ‡‰çš„èª²ç¨‹æ¨¡çµ„ âœ…</li>
            <li>2. ä¾æ“š Lesson ç·¨è™Ÿæ‰¾åˆ°å°æ‡‰çš„ Session âœ…</li>
            <li>3. å¦‚æœè©² Lesson æœ‰é€£çµï¼ˆéç©ºå€¼ï¼‰å°±ç”¨è©²é€£çµ âœ…</li>
            <li>4. æ²’æœ‰å°±ç”¨çµ±ä¸€è¨­å®šçš„é€£çµ âœ…</li>
        </ul>
    </div>
    
    <div id="debug-info"></div>
    
    <script>
        console.log('=== ç•¶å‰å¯¦ä½œé©—è­‰æ¸¬è©¦ ===');
        
        // æª¢æŸ¥ç•¶å‰çš„é‚è¼¯æµç¨‹
        const debugInfo = document.getElementById('debug-info');
        
        const testInfo = `
        <div class="test">
            <h3>ğŸ”§ ç•¶å‰çš„é‚è¼¯æµç¨‹</h3>
            <div class="code">
1. æˆ‘çš„é ç´„é é¢é‚è¼¯ï¼š
   - å„ªå…ˆä½¿ç”¨ selectedBooking.sessionNumber
   - å›é€€åˆ°å¾èª²ç¨‹åç¨±è§£æ parseCourseNameAndLesson()
   - èª¿ç”¨ getCourseLinksForLesson(courseName, lessonNumber)

2. Dashboard é é¢é‚è¼¯ï¼š
   - å¾ selectedBooking.title æˆ– selectedBooking.courseName ç²å–èª²ç¨‹åç¨±
   - ä½¿ç”¨ parseCourseNameAndLesson() è§£æ
   - èª¿ç”¨ getCourseLinksForLesson(courseName, lessonNumber)

3. getCourseLinksForLesson() é‚è¼¯ï¼š
   - èª¿ç”¨ getCourseLinksFromTemplate(courseName, lessonNumber)
   - åœ¨èª²ç¨‹æ¨¡æ¿ä¸­æŸ¥æ‰¾å°æ‡‰çš„ Session
   - å¦‚æœå€‹åˆ¥é€£çµç‚ºç©º â†’ ä½¿ç”¨çµ±ä¸€è¨­å®šé€£çµ
   - å¦‚æœå€‹åˆ¥é€£çµæœ‰å€¼ â†’ ä½¿ç”¨å€‹åˆ¥é€£çµ
   - é€šé isValidLink() é©—è­‰é€£çµæœ‰æ•ˆæ€§

4. æŒ‰éˆ•é¡¯ç¤ºé‚è¼¯ï¼š
   - courseLinks.hasValidClassroom â†’ é¡¯ç¤ºé€²å…¥æ•™å®¤æŒ‰éˆ•
   - courseLinks.hasValidMaterials â†’ é¡¯ç¤ºæŸ¥çœ‹æ•™ææŒ‰éˆ•
   - å¦å‰‡é¡¯ç¤ºç°è‰²æœªè¨­ç½®ç‹€æ…‹
            </div>
        </div>
        
        <div class="test">
            <h3>ğŸ¤” å¯èƒ½çš„å•é¡Œé»</h3>
            <div class="code">
å•é¡Œå¯èƒ½å‡ºç¾åœ¨ï¼š

1. èª²ç¨‹åç¨±è§£æå¤±æ•—
   - parseCourseNameAndLesson() ç„¡æ³•è§£æèª²ç¨‹åç¨±
   - èª²ç¨‹åç¨±æ ¼å¼ä¸ç¬¦åˆé æœŸ

2. èª²ç¨‹æ¨¡æ¿æŸ¥æ‰¾å¤±æ•—
   - getCourseTemplates() è¿”å›ç©ºé™£åˆ—
   - èª²ç¨‹åç¨±åŒ¹é…é‚è¼¯æœ‰å•é¡Œ

3. Session æŸ¥æ‰¾å¤±æ•—
   - Lesson ç·¨è™Ÿä¸å­˜åœ¨æ–¼èª²ç¨‹æ¨¡æ¿ä¸­
   - Session æ•¸æ“šçµæ§‹å•é¡Œ

4. çµ±ä¸€è¨­å®šæ•¸æ“šå•é¡Œ
   - globalSettings ç‚ºç©ºæˆ–undefined
   - defaultVirtualClassroomLink ç‚ºç©º

5. é€£çµé©—è­‰å•é¡Œ
   - isValidLink() åˆ¤æ–·é‚è¼¯å•é¡Œ
   - URL æ ¼å¼ä¸æ­£ç¢º
            </div>
        </div>
        
        <div class="test">
            <h3>ğŸ” å»ºè­°çš„èª¿è©¦æ–¹æ³•</h3>
            <div class="code">
1. æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°çš„ console.log è¼¸å‡ºï¼š
   - ğŸ”— ç‚ºèª²ç¨‹"..." Lesson ...ç²å–åˆ°çš„é€£çµ
   - ğŸ“ ä½¿ç”¨çµ±ä¸€æ•™å®¤è¨­å®š / ä½¿ç”¨å€‹åˆ¥æ•™å®¤è¨­å®š
   - ğŸ“„ ä½¿ç”¨çµ±ä¸€æ•™æè¨­å®š / ä½¿ç”¨å€‹åˆ¥æ•™æè¨­å®š

2. æª¢æŸ¥å¯¦éš›çš„èª²ç¨‹æ¨¡æ¿æ•¸æ“šï¼š
   - localStorage.getItem('courseTemplates')
   - ç¢ºèª globalSettings æ˜¯å¦å­˜åœ¨
   - ç¢ºèª sessions æ•¸æ“šçµæ§‹

3. æª¢æŸ¥é ç´„æ•¸æ“šï¼š
   - selectedBooking.courseName
   - selectedBooking.sessionNumber
   - parseCourseNameAndLesson() çš„è¿”å›å€¼

4. æª¢æŸ¥æœ€çµ‚çš„ courseLinks ç‰©ä»¶ï¼š
   - courseLinks.classroom
   - courseLinks.materials
   - courseLinks.hasValidClassroom
   - courseLinks.hasValidMaterials
            </div>
        </div>
        
        <div class="test ${allWorking ? 'success' : 'error'}">
            <h3>ğŸ“Š é‚è¼¯é©—è­‰çµæœ</h3>
            <div class="code">
ç•¶å‰çš„å¯¦ä½œé‚è¼¯çœ‹èµ·ä¾†æ˜¯æ­£ç¢ºçš„ï¼š

âœ… ä½¿ç”¨ getCourseLinksForLesson() æ ¹æ“šèª²ç¨‹åç¨±å’Œ Lesson ç·¨è™ŸæŸ¥æ‰¾
âœ… åœ¨ getCourseLinksFromTemplate() ä¸­å¯¦ç¾äº†å›é€€é‚è¼¯
âœ… å€‹åˆ¥é€£çµç‚ºç©ºæ™‚ä½¿ç”¨çµ±ä¸€è¨­å®š
âœ… é€šé isValidLink() é©—è­‰é€£çµæœ‰æ•ˆæ€§
âœ… UI æ ¹æ“š hasValidClassroom/hasValidMaterials é¡¯ç¤ºæŒ‰éˆ•

å¦‚æœæŸ¥çœ‹æ•™ææˆåŠŸä½†é€²å…¥æ•™å®¤å¤±æ•—ï¼Œå¯èƒ½æ˜¯ï¼š
- æ•™æé€£çµæœ‰çµ±ä¸€è¨­å®šï¼Œä½†æ•™å®¤é€£çµçš„çµ±ä¸€è¨­å®šç‚ºç©º
- ç‰¹å®š Lesson çš„æ•™å®¤é€£çµæ•¸æ“šå•é¡Œ
- èª²ç¨‹æ¨¡æ¿ä¸­çš„ globalSettings è¨­å®šä¸å®Œæ•´
            </div>
        </div>
        `;
        
        debugInfo.innerHTML = testInfo;
        
        // è¼¸å‡ºèª¿è©¦å»ºè­°
        console.log('ğŸ” å»ºè­°æª¢æŸ¥ä»¥ä¸‹å…§å®¹ï¼š');
        console.log('1. ç€è¦½å™¨æ§åˆ¶å°çš„èª²ç¨‹é€£çµç›¸é—œ log');
        console.log('2. localStorage ä¸­çš„èª²ç¨‹æ¨¡æ¿æ•¸æ“š');
        console.log('3. å…·é«”çš„èª²ç¨‹é ç´„æ•¸æ“š');
        console.log('4. globalSettings ä¸­çš„çµ±ä¸€é€£çµè¨­å®š');
    </script>
</body>
</html>