<!DOCTYPE html>
<html>
<head>
    <title>簡化版課程連結邏輯測試</title>
    <meta charset="utf-8">
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
        .summary { 
            background: #e8f5e8; 
            border: 2px solid #4caf50; 
            padding: 20px; 
            margin: 20px 0; 
            border-radius: 8px; 
        }
        .logic-box { 
            background: #f0f8ff; 
            border: 1px solid #4682b4; 
            padding: 15px; 
            margin: 15px 0; 
            border-radius: 5px;
        }
        .example { 
            background: #fff9c4; 
            border: 1px solid #fbc02d; 
            padding: 15px; 
            margin: 15px 0; 
            border-radius: 5px;
        }
        .code { 
            background: #f5f5f5; 
            padding: 10px; 
            border-radius: 3px; 
            font-family: monospace; 
            margin: 10px 0;
        }
        table { 
            width: 100%; 
            border-collapse: collapse; 
            margin: 15px 0; 
        }
        th, td { 
            border: 1px solid #ddd; 
            padding: 12px; 
            text-align: left; 
        }
        th { 
            background-color: #f2f2f2; 
            font-weight: bold; 
        }
        .highlight { background-color: #ffffcc; }
    </style>
</head>
<body>
    <h1>🔗 簡化版課程連結邏輯</h1>
    
    <div class="summary">
        <h2>✅ 修復完成</h2>
        <p><strong>新的邏輯非常簡單直接：</strong></p>
        <ol>
            <li><strong>個別 Session 有連結</strong> → 使用個別連結</li>
            <li><strong>個別 Session 沒有連結（空值）</strong> → 使用統一設定的連結</li>
        </ol>
        <p>不再考慮佔位符，因為現在的系統已經沒有佔位符了。</p>
    </div>
    
    <div class="logic-box">
        <h3>🧠 邏輯說明</h3>
        <div class="code">
// 對於教室連結
if (個別Session的教室連結為空) {
    使用統一設定的教室連結
} else {
    使用個別Session的教室連結
}

// 對於教材連結  
if (個別Session的教材連結為空) {
    使用統一設定的教材連結
} else {
    使用個別Session的教材連結
}
        </div>
    </div>
    
    <h2>📋 測試案例</h2>
    
    <table>
        <tr>
            <th>課程</th>
            <th>個別教室連結</th>
            <th>個別教材連結</th>
            <th>統一教室設定</th>
            <th>統一教材設定</th>
            <th>最終教室連結</th>
            <th>最終教材連結</th>
        </tr>
        <tr>
            <td>Lesson 1</td>
            <td>https://meet.google.com/lesson-1</td>
            <td>https://drive.google.com/lesson-1</td>
            <td>https://meet.google.com/global</td>
            <td>https://drive.google.com/global</td>
            <td class="highlight">https://meet.google.com/lesson-1</td>
            <td class="highlight">https://drive.google.com/lesson-1</td>
        </tr>
        <tr>
            <td>Lesson 2</td>
            <td>(空值)</td>
            <td>(空值)</td>
            <td>https://meet.google.com/global</td>
            <td>https://drive.google.com/global</td>
            <td class="highlight">https://meet.google.com/global</td>
            <td class="highlight">https://drive.google.com/global</td>
        </tr>
        <tr>
            <td>Lesson 3</td>
            <td>https://meet.google.com/lesson-3</td>
            <td>(空值)</td>
            <td>https://meet.google.com/global</td>
            <td>https://drive.google.com/global</td>
            <td class="highlight">https://meet.google.com/lesson-3</td>
            <td class="highlight">https://drive.google.com/global</td>
        </tr>
        <tr>
            <td>Lesson 4</td>
            <td>(空值)</td>
            <td>https://drive.google.com/lesson-4</td>
            <td>https://meet.google.com/global</td>
            <td>https://drive.google.com/global</td>
            <td class="highlight">https://meet.google.com/global</td>
            <td class="highlight">https://drive.google.com/lesson-4</td>
        </tr>
    </table>
    
    <div class="example">
        <h3>💡 實際使用場景</h3>
        <p><strong>教師在課程模組中設定：</strong></p>
        <ul>
            <li><strong>統一設定</strong>：設定一個通用的 Google Meet 連結和共用教材夾</li>
            <li><strong>個別課程</strong>：某些特殊課程可以設定專屬的連結</li>
        </ul>
        
        <p><strong>教師在儀表板或我的預約中：</strong></p>
        <ul>
            <li>點擊「進入教室」→ 自動使用該 Lesson 的專屬連結，沒有則用統一連結</li>
            <li>點擊「查看教材」→ 自動使用該 Lesson 的專屬教材，沒有則用統一教材</li>
        </ul>
    </div>
    
    <div class="summary">
        <h3>🎯 結果</h3>
        <p>現在系統會：</p>
        <ul>
            <li>✅ 正確優先使用個別 Session 的連結</li>
            <li>✅ 當個別連結為空時，自動使用統一設定</li>
            <li>✅ 邏輯簡單直接，不會有複雜的判斷</li>
            <li>✅ 教師體驗流暢，按鈕會顯示正確的連結</li>
        </ul>
    </div>
</body>
</html>